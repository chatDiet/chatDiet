<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./css/signup.css" />
    <title>SIGNUP html</title>
  </head>
  <body>
    <!-- <a id="kakao" href="/api/login/kakao" class="btn">카카오톡 로그인</a> -->
    <a href="javascript:kakaoLogin();"><img src="https://developers.kakao.com/docs/static/image/ko/m/kakaologin.png" /></a>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script>
      //0086ddc0be052814652891ce70d445d2
      window.Kakao.init('0086ddc0be052814652891ce70d445d2');
      function kakaoLogin() {
        window.Kakao.Auth.login({
          scope: 'account_email',
          success: function (authObj) {
            window.Kakao.API.request({
              url: '/v2/user/me',
              success: res => {
                const kakao_account = res.kakao_account;
                fetch(`/api/kakao`, {
                  method: 'POST', // 변경이 필요한 경우 PUT 또는 다른 HTTP 메서드 사용
                  headers: {
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify({ email: kakao_account.email }),
                });
              },
            });
          },
        });
      }
    </script>
  </body>
</html>
